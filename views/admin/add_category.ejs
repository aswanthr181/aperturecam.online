<%- include('../adminLayout/a_header.ejs') %>

    <nav class="navbar navbar-expand-xl">
        <div class="container h-100">
            <a class="navbar-brand" href="index.html">
                <h1 class="tm-site-title mb-0">Product Admin</h1>
            </a>
            <button class="navbar-toggler ml-auto mr-0" type="button" data-toggle="collapse"
                data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <i class="fas fa-bars tm-nav-icon"></i>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mx-auto h-100">
                    <li class="nav-item">
                        <a class="nav-link" href="/admin/home">
                            <i class="fas fa-tachometer-alt"></i> Dashboard
                            <span class="sr-only">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="/admin/userlist">
                          <i class="far fa-file-alt"></i> userlist
                        </a>
                      </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/admin/addproducts">
                            <i class="fas fa-shopping-cart"></i> Products
                        </a>
                    </li>

                    
                    <li class="nav-item">
                        <a class="nav-link active" href="/admin/addcategory">
                            category
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="/admin/orderlist">
                            <i class="fas fa-truck-fast"></i>orders
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="/admin/banner">
                            Banner
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="/admin/coupon">
                            coupon
                        </a>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link d-block" href="/admin/logout">
                            Admin, <b>Logout</b>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container tm-mt-big tm-mb-big">
        <div class="row">
            <div class="col-xl-9 col-lg-10 col-md-12 col-sm-12 mx-auto">
                <div class="tm-bg-primary-dark tm-block tm-block-h-auto">

                    <div class="row tm-edit-product-row">
                        <div class="col-xl-6 col-lg-6 col-md-12">
                            <form action="/admin/addcategory" class="tm-edit-product-form" id="form2" method="post">
                                <div class="form-group mb-3">
                                    <label for="name">Category Name
                                    </label>
                                    <input id="name" name="category" type="text" class="form-control validate"
                                        required />
                                        <span class="text-danger error"></span>
                                </div>
                                <div class="col-12">
                                    <button type="submit" class="btn btn-primary btn-block text-uppercase">Add category
                                        Now</button>
                                </div>
                            </form>

                            <div style="text-align: center;">
                                <% if(sweetalert=="exist" ){ %>
                                    <script>
                                        swal({
                                            title: "ALREADY EXIST",
                                            text: "try another",
                                            imageUrl: 'thumbs-up.jpg'
                                        });

                                    </script>
                                    <% } else if(sweetalert=="success" ) {%>
                                        <script>
                                            swal({
                                                title: "ITEM ADDED",
                                                text: "SUCCESS",
                                                imageUrl: 'thumbs-up.jpg'
                                            });

                                        </script>
                                        <% } else if(sweetalert=="null" ) {%>
                                            <script>
                                                swal({
                                                    title: "category cannot be null",
                                                    text: "FAILED",
                                                    imageUrl: 'thumbs-up.jpg'
                                                });

                                            </script>
                                            <%}%>
                            </div>


                        </div>
                        <div class="col-6"><br><br>
                            <a href="/admin/categorylist"><button
                                    class="btn btn-primary btn-block text-uppercase">Category
                                    List</button></a>
                        </div>
                    </div>
                </div>
            </div>



            <%- include('../adminLayout/a_footer.ejs') %>

                <script>

                    const form = document.getElementById('form2')
                    const name1 = document.getElementById('name')

                    const seterror = (element, message) => {
                        const inputControll = element.parentElement;
                        const errorDisplay = inputControll.querySelector('.error')

                        errorDisplay.innerText = message
                        inputControll.classList.add('error')
                        inputControll.classList.remove('success')
                    }
                    const setSuccess = (element) => {
                        const inputControll = element.parentElement;
                        const errorDisplay = inputControll.querySelector('.error')

                        errorDisplay.innerText = ''
                        inputControll.classList.remove('success')
                        inputControll.classList.add('error')
                    }

                    form.addEventListener('submit', e => {
                        const productname = name1.value.trim()


                        if (productname == '') {
                            seterror(name1, 'this field is required')
                            e.preventDefault()
                        } else {
                            setSuccess(name1)
                        }
                    })


                </script>